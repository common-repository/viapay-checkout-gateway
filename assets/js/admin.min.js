jQuery(document).ready(function(e){e(document).on("click","#viapay_capture",function(t){t.preventDefault();var a=e(this).data("nonce"),r=e(this).data("order-id"),n=e(this);e.ajax({url:Viapay_Admin.ajax_url,type:"POST",data:{action:"viapay_capture",nonce:a,order_id:r},beforeSend:function(){n.data("text",n.html()),n.html(Viapay_Admin.text_wait),n.prop("disabled",!0)},success:function(e){if(n.html(n.data("text")),n.prop("disabled",!1),!e.success)return!1;window.location.href=location.href}})}),e(document).on("click","#viapay_cancel",function(t){t.preventDefault();var a=e(this).data("nonce"),r=e(this).data("order-id"),n=e(this);e.ajax({url:Viapay_Admin.ajax_url,type:"POST",data:{action:"viapay_cancel",nonce:a,order_id:r},beforeSend:function(){n.data("text",n.html()),n.html(Viapay_Admin.text_wait),n.prop("disabled",!0)},success:function(e){if(n.html(n.data("text")),n.prop("disabled",!1),!e.success)return alert(e.data),!1;window.location.href=location.href}})}),e(document).on("click","#viapay_refund",function(t){t.preventDefault();var a=e(this).data("nonce"),r=e(this).data("order-id"),n=e(this).data("amount"),o=e(this);e.ajax({url:Viapay_Admin.ajax_url,type:"POST",data:{action:"viapay_refund",nonce:a,order_id:r,amount:n},beforeSend:function(){o.data("text",o.html()),o.html(Viapay_Admin.text_wait),o.prop("disabled",!0)},success:function(e){if(o.html(o.data("text")),o.prop("disabled",!1),!e.success)return alert(e.data),!1;window.location.href=location.href},error:function(e){alert(e)}})}),e(document).on("click","#viapay_capture_partly",function(t){t.preventDefault();var a=e(this).data("nonce"),r=e(this).data("order-id"),n=e("#viapay-capture_partly_amount-field").val(),o=e(this);e.ajax({url:Viapay_Admin.ajax_url,type:"POST",data:{action:"viapay_capture_partly",nonce:a,order_id:r,amount:n},beforeSend:function(){o.data("text",o.html()),o.html(Viapay_Admin.text_wait),o.prop("disabled",!0)},success:function(e){if(o.html(o.data("text")),o.prop("disabled",!1),!e.success)return alert(e),alert(e.data),!1;window.location.href=location.href},error:function(e){alert("error response: "+JSON.stringify(e))}})}),e(document).on("click","#viapay_refund_partly",function(t){t.preventDefault();var a=e(this).data("nonce"),r=e(this).data("order-id"),n=e("#viapay-refund_partly_amount-field").val(),o=e(this);e.ajax({url:Viapay_Admin.ajax_url,type:"POST",data:{action:"viapay_refund_partly",nonce:a,order_id:r,amount:n},beforeSend:function(){o.data("text",o.html()),o.html(Viapay_Admin.text_wait),o.prop("disabled",!0)},success:function(e){if(o.html(o.data("text")),o.prop("disabled",!1),!e.success)return alert(e),alert(e.data),!1;window.location.href=location.href},error:function(e){alert("error response: "+JSON.stringify(e))}})}),e("#viapay-capture_partly_amount-field, #viapay-refund_partly_amount-field").inputmask({alias:"currency",groupSeparator:""})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIl0sIm5hbWVzIjpbImpRdWVyeSIsImRvY3VtZW50IiwicmVhZHkiLCIkIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJub25jZSIsInRoaXMiLCJkYXRhIiwib3JkZXJfaWQiLCJzZWxmIiwiYWpheCIsInVybCIsIlJlZXBheV9BZG1pbiIsImFqYXhfdXJsIiwidHlwZSIsImFjdGlvbiIsImJlZm9yZVNlbmQiLCJodG1sIiwidGV4dF93YWl0IiwicHJvcCIsInN1Y2Nlc3MiLCJyZXNwb25zZSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImFsZXJ0IiwiYW1vdW50IiwiZXJyb3IiLCJ2YWwiLCJKU09OIiwic3RyaW5naWZ5IiwiaW5wdXRtYXNrIiwiYWxpYXMiLCJncm91cFNlcGFyYXRvciJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU9DLFVBQVVDLE1BQU0sU0FBVUMsR0FDaENBLEVBQUVGLFVBQVVHLEdBQUcsUUFBUyxrQkFBbUIsU0FBVUMsR0FDcERBLEVBQUVDLGlCQUNGLElBQUlDLEVBQVFKLEVBQUVLLE1BQU1DLEtBQUssU0FDckJDLEVBQVdQLEVBQUVLLE1BQU1DLEtBQUssWUFDeEJFLEVBQU9SLEVBQUVLLE1BRWJMLEVBQUVTLEtBQUssQ0FDTkMsSUFBWUMsYUFBYUMsU0FDekJDLEtBQVksT0FDWlAsS0FBWSxDQUNYUSxPQUFnQixpQkFDaEJWLE1BQWdCQSxFQUNoQkcsU0FBZ0JBLEdBRWpCUSxXQUFZLFdBQ1hQLEVBQUtGLEtBQUssT0FBUUUsRUFBS1EsUUFDdkJSLEVBQUtRLEtBQUtMLGFBQWFNLFdBQ3ZCVCxFQUFLVSxLQUFLLFlBQVksSUFFdkJDLFFBQVksU0FBVUMsR0FHckIsR0FGQVosRUFBS1EsS0FBS1IsRUFBS0YsS0FBSyxTQUNwQkUsRUFBS1UsS0FBSyxZQUFZLElBQ2pCRSxFQUFTRCxRQUNiLE9BQU8sRUFHUkUsT0FBT0MsU0FBU0MsS0FBT0QsU0FBU0MsVUFLbkN2QixFQUFFRixVQUFVRyxHQUFHLFFBQVMs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UCxLQUFZLENBQ1hRLE9BQWdCLHVCQUNoQlYsTUFBZ0JBLEVBQ2hCRyxTQUFnQkEsRUFDaEJrQixPQUFnQkEsR0FFakJWLFdBQVksV0FDWFAsRUFBS0YsS0FBSyxPQUFRRSxFQUFLUSxRQUN2QlIsRUFBS1EsS0FBS0wsYUFBYU0sV0FDdkJULEVBQUtVLEtBQUssWUFBWSxJQUV2QkMsUUFBWSxTQUFVQyxHQUdyQixHQUZBWixFQUFLUSxLQUFLUixFQUFLRixLQUFLLFNBQ3BCRSxFQUFLVSxLQUFLLFlBQVksSUFDakJFLEVBQVNELFFBR2IsT0FGQUssTUFBTUosR0FDTkksTUFBTUosRUFBU2QsT0FDUixFQUVSZSxPQUFPQyxTQUFTQyxLQUFPRCxTQUFTQyxNQUVqQ0csTUFBUSxTQUFVTixHQUNqQkksTUFBTSxtQkFBcUJJLEtBQUtDLFVBQVVULFNBSzdDcEIsRUFBRywyRUFBNEU4QixVQUFVLENBQUVDLE1BQU8sV0FBWUMsZUFBZ0IiLCJmaWxlIjoiYWRtaW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsialF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoJCkge1xuXHQkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI3JlZXBheV9jYXB0dXJlJywgZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dmFyIG5vbmNlID0gJCh0aGlzKS5kYXRhKCdub25jZScpO1xuXHRcdHZhciBvcmRlcl9pZCA9ICQodGhpcykuZGF0YSgnb3JkZXItaWQnKTtcblx0XHR2YXIgc2VsZiA9ICQodGhpcyk7XG5cdFx0XG5cdFx0JC5hamF4KHtcblx0XHRcdHVybCAgICAgICA6IFJlZXBheV9BZG1pbi5hamF4X3VybCxcblx0XHRcdHR5cGUgICAgICA6ICdQT1NUJyxcblx0XHRcdGRhdGEgICAgICA6IHtcblx0XHRcdFx0YWN0aW9uICAgICAgICA6ICdyZWVwYXlfY2FwdHVyZScsXG5cdFx0XHRcdG5vbmNlICAgICAgICAgOiBub25jZSxcblx0XHRcdFx0b3JkZXJfaWQgICAgICA6IG9yZGVyX2lkXG5cdFx0XHR9LFxuXHRcdFx0YmVmb3JlU2VuZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRzZWxmLmRhdGEoJ3RleHQnLCBzZWxmLmh0bWwoKSk7XG5cdFx0XHRcdHNlbGYuaHRtbChSZWVwYXlfQWRtaW4udGV4dF93YWl0KTtcblx0XHRcdFx0c2VsZi5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuXHRcdFx0fSxcblx0XHRcdHN1Y2Nlc3MgICA6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0XHRzZWxmLmh0bWwoc2VsZi5kYXRhKCd0ZXh0JykpO1xuXHRcdFx0XHRzZWxmLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuXHRcdFx0XHRpZiAoIXJlc3BvbnNlLnN1Y2Nlc3MpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IGxvY2F0aW9uLmhyZWY7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXG5cdCQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjcmVlcGF5X2NhbmNlbCcsIGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0dmFyIG5vbmNlID0gJCh0aGlzKS5kYXRhKCdub25jZScpO1xuXHRcdHZhciBvcmRlcl9pZCA9ICQodGhpcykuZGF0YSgnb3JkZXItaWQnKTtcblx0XHR2YXIgc2VsZiA9ICQodGhpcyk7XG5cdFx0JC5hamF4KHtcblx0XHRcdHVybCAgICAgICA6IFJlZXBheV9BZG1pbi5hamF4X3VybCxcblx0XHRcdHR5cGUgICAgICA6ICdQT1NUJyxcblx0XHRcdGRhdGEgICAgICA6IHtcblx0XHRcdFx0YWN0aW9uICAgICAgICA6ICdyZWVwYXlfY2FuY2VsJyxcblx0XHRcdFx0bm9uY2UgICAgICAgICA6IG5vbmNlLFxuXHRcdFx0XHRvcmRlcl9pZCAgICAgIDogb3JkZXJfaWRcblx0XHRcdH0sXG5cdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHNlbGYuZGF0YSgndGV4dCcsIHNlbGYuaHRtbCgpKTtcblx0XHRcdFx0c2VsZi5odG1sKFJlZXBheV9BZG1pbi50ZXh0X3dhaXQpO1xuXHRcdFx0XHRzZWxmLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdFx0XHR9LFxuXHRcdFx0c3VjY2VzcyAgIDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdFx0XHRcdHNlbGYuaHRtbChzZWxmLmRhdGEoJ3RleHQnKSk7XG5cdFx0XHRcdHNlbGYucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG5cdFx0XHRcdGlmICghcmVzcG9uc2Uuc3VjY2Vzcykge1xuXHRcdFx0XHRcdGFsZXJ0KHJlc3BvbnNlLmRhdGEpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbG9jYXRpb24uaHJlZjtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cdFxuXHQkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI3JlZXBheV9yZWZ1bmQnLCBmdW5jdGlvbiAoZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgbm9uY2UgPSAkKHRoaXMpLmRhdGEoJ25vbmNlJyk7XG5cdFx0dmFyIG9yZGVyX2lkID0gJCh0aGlzKS5kYXRhKCdvcmRlci1pZCcpO1xuXHRcdHZhciBhbW91bnQgPSAkKHRoaXMpLmRhdGEoJ2Ftb3VudCcpO1xuXHRcdHZhciBzZWxmID0gJCh0aGlzKTtcblx0XHQkLmFqYXgoe1xuXHRcdFx0dXJsICAgICAgIDogUmVlcGF5X0FkbWluLmFqYXhfdXJsLFxuXHRcdFx0dHlwZSAgICAgIDogJ1BPU1QnLFxuXHRcdFx0ZGF0YSAgICAgIDoge1xuXHRcdFx0XHRhY3Rpb24gICAgICAgIDogJ3JlZXBheV9yZWZ1bmQnLFxuXHRcdFx0XHRub25jZSAgICAgICAgIDogbm9uY2UsXG5cdFx0XHRcdG9yZGVyX2lkICAgICAgOiBvcmRlcl9pZCxcblx0XHRcdFx0YW1vdW50ICAgICAgICA6IGFtb3VudFxuXHRcdFx0fSxcblx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0c2VsZi5kYXRhKCd0ZXh0Jywgc2VsZi5odG1sKCkpO1xuXHRcdFx0XHRzZWxmLmh0bWwoUmVlcGF5X0FkbWluLnRleHRfd2FpdCk7XG5cdFx0XHRcdHNlbGYucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcblx0XHRcdH0sXG5cdFx0XHRzdWNjZXNzICAgOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0XHRcdFx0c2VsZi5odG1sKHNlbGYuZGF0YSgndGV4dCcpKTtcblx0XHRcdFx0c2VsZi5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcblx0XHRcdFx0aWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7XG5cdFx0XHRcdFx0YWxlcnQocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBsb2NhdGlvbi5ocmVmO1xuXHRcdFx0fSxcblx0XHRcdGVycm9yXHQ6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0XHRhbGVydChyZXNwb25zZSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHRcblx0JChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNyZWVwYXlfY2FwdHVyZV9wYXJ0bHknLCBmdW5jdGlvbiAoZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgbm9uY2UgPSAkKHRoaXMpLmRhdGEoJ25vbmNlJyk7XG5cdFx0dmFyIG9yZGVyX2lkID0gJCh0aGlzKS5kYXRhKCdvcmRlci1pZCcpO1xuXHRcdHZhciBhbW91bnQgPSAkKFwiI3JlZXBheS1jYXB0dXJlX3BhcnRseV9hbW91bnQtZmllbGRcIikudmFsKCk7XG5cdFx0dmFyIHNlbGYgPSAkKHRoaXMpO1xuXHRcdFxuXHRcdCQuYWpheCh7XG5cdFx0XHR1cmwgICAgICAgOiBSZWVwYXlfQWRtaW4uYWpheF91cmwsXG5cdFx0XHR0eXBlICAgICAgOiAnUE9TVCcsXG5cdFx0XHRkYXRhICAgICAgOiB7XG5cdFx0XHRcdGFjdGlvbiAgICAgICAgOiAncmVlcGF5X2NhcHR1cmVfcGFydGx5Jyxcblx0XHRcdFx0bm9uY2UgICAgICAgICA6IG5vbmNlLFxuXHRcdFx0XHRvcmRlcl9pZCAgICAgIDogb3JkZXJfaWQsXG5cdFx0XHRcdGFtb3VudCAgICAgICAgOiBhbW91bnRcblx0XHRcdH0sXG5cdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHNlbGYuZGF0YSgndGV4dCcsIHNlbGYuaHRtbCgpKTtcblx0XHRcdFx0c2VsZi5odG1sKFJlZXBheV9BZG1pbi50ZXh0X3dhaXQpO1xuXHRcdFx0XHRzZWxmLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdFx0XHR9LFxuXHRcdFx0c3VjY2VzcyAgIDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdFx0XHRcdHNlbGYuaHRtbChzZWxmLmRhdGEoJ3RleHQnKSk7XG5cdFx0XHRcdHNlbGYucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG5cdFx0XHRcdGlmICghcmVzcG9uc2Uuc3VjY2Vzcykge1xuXHRcdFx0XHRcdGFsZXJ0KHJlc3BvbnNlKTtcblx0XHRcdFx0XHRhbGVydChyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBsb2NhdGlvbi5ocmVmO1xuXHRcdFx0fSxcblx0XHRcdGVycm9yXHQ6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0XHRhbGVydChcImVycm9yIHJlc3BvbnNlOiBcIiArIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHRcblx0JChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNyZWVwYXlfcmVmdW5kX3BhcnRseScsIGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHZhciBub25jZSA9ICQodGhpcykuZGF0YSgnbm9uY2UnKTtcblx0XHR2YXIgb3JkZXJfaWQgPSAkKHRoaXMpLmRhdGEoJ29yZGVyLWlkJyk7XG5cdFx0dmFyIGFtb3VudCA9ICQoXCIjcmVlcGF5LXJlZnVuZF9wYXJ0bHlfYW1vdW50LWZpZWxkXCIpLnZhbCgpO1xuXHRcdHZhciBzZWxmID0gJCh0aGlzKTtcblx0XHRcblx0XHQkLmFqYXgoe1xuXHRcdFx0dXJsICAgICAgIDogUmVlcGF5X0FkbWluLmFqYXhfdXJsLFxuXHRcdFx0dHlwZSAgICAgIDogJ1BPU1QnLFxuXHRcdFx0ZGF0YSAgICAgIDoge1xuXHRcdFx0XHRhY3Rpb24gICAgICAgIDogJ3JlZXBheV9yZWZ1bmRfcGFydGx5Jyxcblx0XHRcdFx0bm9uY2UgICAgICAgICA6IG5vbmNlLFxuXHRcdFx0XHRvcmRlcl9pZCAgICAgIDogb3JkZXJfaWQsXG5cdFx0XHRcdGFtb3VudCAgICAgICAgOiBhbW91bnRcblx0XHRcdH0sXG5cdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHNlbGYuZGF0YSgndGV4dCcsIHNlbGYuaHRtbCgpKTtcblx0XHRcdFx0c2VsZi5odG1sKFJlZXBheV9BZG1pbi50ZXh0X3dhaXQpO1xuXHRcdFx0XHRzZWxmLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdFx0XHR9LFxuXHRcdFx0c3VjY2VzcyAgIDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdFx0XHRcdHNlbGYuaHRtbChzZWxmLmRhdGEoJ3RleHQnKSk7XG5cdFx0XHRcdHNlbGYucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG5cdFx0XHRcdGlmICghcmVzcG9uc2Uuc3VjY2Vzcykge1xuXHRcdFx0XHRcdGFsZXJ0KHJlc3BvbnNlKTtcblx0XHRcdFx0XHRhbGVydChyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBsb2NhdGlvbi5ocmVmO1xuXHRcdFx0fSxcblx0XHRcdGVycm9yXHQ6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0XHRhbGVydChcImVycm9yIHJlc3BvbnNlOiBcIiArIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXG5cdCQoICcjcmVlcGF5LWNhcHR1cmVfcGFydGx5X2Ftb3VudC1maWVsZCwgI3JlZXBheS1yZWZ1bmRfcGFydGx5X2Ftb3VudC1maWVsZCcgKS5pbnB1dG1hc2soeyBhbGlhczogXCJjdXJyZW5jeVwiLCBncm91cFNlcGFyYXRvcjogJycgfSk7XG59KTtcbiJdfQ==
